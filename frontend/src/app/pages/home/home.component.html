<!-- Home Page Component -->
<div class="home-page">
  <!-- Loading State -->
  <div class="loading-container" *ngIf="isLoading">
    <app-spinner></app-spinner>
  </div>

  <!-- Main Content -->
  <div class="home-content" *ngIf="!isLoading">
    <div class="container-fluid">
      <div class="main-layout">
        <!-- Sidebar (Left) -->
        <aside class="sidebar-area">
          <!-- Categories Only -->
          <div class="categories-wrapper">
            <app-sidebar [showCart]="false" [showTitle]="false"></app-sidebar>
          </div>
          
          <!-- Side Albums (2 albums) - Below Categories -->
          <div class="side-albums" *ngIf="sideAlbums.length > 0">
            <app-album-card
              *ngFor="let album of sideAlbums; trackBy: trackByAlbum"
              [album]="album"
              [size]="'medium'"
              [showInfo]="true"
            >
            </app-album-card>
          </div>
        </aside>

        <!-- Main Content Area -->
        <div class="main-area">
          <!-- Featured Section -->
          <section class="featured-section" *ngIf="featuredAlbum">
            <div class="featured-wrapper">
              <!-- Featured Album (Large) - Left Side -->
              <div class="featured-album">
                <app-album-card
                  [album]="featuredAlbum"
                  [size]="'large'"
                  [showHover]="true"
                >
                </app-album-card>
              </div>

              <!-- Top Albums Grid (8 albums) - Right Side -->
              <div class="top-albums-grid">
                <app-album-card
                  *ngFor="let album of topAlbums; trackBy: trackByAlbum"
                  [album]="album"
                  [size]="'small'"
                  [showHover]="true"
                >
                </app-album-card>
              </div>
            </div>
          </section>

          <!-- Remaining Albums Section (12 albums only on initial load) -->
          <section class="albums-section" *ngIf="remainingAlbums.length > 0">
            <div class="albums-grid">
              <app-album-card
                *ngFor="let album of remainingAlbums; trackBy: trackByAlbum"
                [album]="album"
                [size]="'medium'"
                [showInfo]="true"
                [showPrice]="true"
              >
              </app-album-card>
            </div>

            <!-- Additional Albums (loaded on scroll) -->
            <div class="albums-grid" *ngIf="additionalAlbums.length > 0">
              <app-album-card
                *ngFor="let album of additionalAlbums; trackBy: trackByAlbum"
                [album]="album"
                [size]="'medium'"
                [showInfo]="true"
                [showPrice]="true"
              >
              </app-album-card>
            </div>

            <!-- Load More Spinner -->
            <div class="load-more" *ngIf="isLoadingMore">
              <app-spinner [size]="'small'"></app-spinner>
              <p>Loading more albums...</p>
            </div>

            <!-- No More Albums Message -->
            <div class="no-more" *ngIf="!hasMore && !isLoadingMore && allAlbumsLoaded">
              <p>No more albums to display</p>
            </div>
          </section>
        </div>
      </div>
    </div>
  </div>
</div>