<!-- Album Card Component -->
<div
  class="album-card"
  [class.small]="size === 'small'"
  [class.medium]="size === 'medium'"
  [class.large]="size === 'large'"
  [class.hovered]="isHovered"
  (click)="viewAlbum()"
  (mouseenter)="isHovered = true"
  (mouseleave)="isHovered = false"
>
  <!-- Album Image -->
  <div class="album-image">
    <img [src]="mainImageUrl" [alt]="album.title" loading="lazy" />

    <!-- Hover Overlay -->
    <div class="hover-overlay" *ngIf="showHover">
      <!-- Album Info at top -->
      <div class="overlay-info">
        <h3 class="album-title">{{ album.title }}</h3>
        <p class="album-artist">{{ album.artist }}</p>
      </div>
      
      <!-- Actions at bottom -->
      <div class="overlay-actions">
        <div class="hover-content">
          <button
            class="action-btn info-btn"
            (click)="viewAlbum(); $event.stopPropagation()"
            title="View Details"
          >
            <span class="icon">ℹ️</span>
          </button>
          <button
            class="action-btn cart-btn"
            (click)="addToCart($event)"
            [disabled]="isAddingToCart || !album.inStock"
            title="Add to Cart"
          >
            <span class="icon">🛒</span>
          </button>
        </div>
        <div class="price-tag" *ngIf="album.inStock">
          {{ getFormattedPrice() }}
        </div>
        <div class="out-of-stock" *ngIf="!album.inStock">Out of Stock</div>
      </div>
    </div>
  </div>

  <!-- Album Info -->
  <div class="album-info">
    <h3 class="album-title">{{ album.title }}</h3>
    <p class="album-artist">{{ album.artist }}</p>

    <!-- Additional Info for Medium/Large Cards -->
    <div class="additional-info" *ngIf="showInfo && size !== 'small'">
      <p class="album-description">{{ getTruncatedDescription() }}</p>

      <!-- Actions for non-hover cards -->
      <div class="card-actions" *ngIf="!showHover">
        <span class="price">{{ getFormattedPrice() }}</span>
        <button
          class="add-to-cart-btn"
          (click)="addToCart($event)"
          [disabled]="isAddingToCart || !album.inStock"
        >
          <span class="icon">🛒</span>
        </button>
      </div>
    </div>

    <!-- Price for cards with showPrice -->
    <div class="price-info" *ngIf="showPrice && !showInfo">
      <span class="price">{{ getFormattedPrice() }}</span>
      <div class="action-buttons">
        <button
          class="icon-btn"
          (click)="viewAlbum(); $event.stopPropagation()"
          title="View Details"
        >
          <span>ℹ️</span>
        </button>
        <button
          class="icon-btn"
          (click)="addToCart($event)"
          [disabled]="isAddingToCart || !album.inStock"
          title="Add to Cart"
        >
          <span>🛒</span>
        </button>
      </div>
    </div>
  </div>
</div>