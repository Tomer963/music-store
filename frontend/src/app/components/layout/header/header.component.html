<!-- Header Component -->
<header class="header">
  <!-- Top Navigation Bar -->
  <nav class="nav-top">
    <div class="container">
      <ul class="nav-list">
        <li class="nav-item">
          <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
            Home
          </a>
        </li>
        <li class="nav-item" *ngIf="currentUser">
          <a routerLink="/my-account" routerLinkActive="active">My Account</a>
        </li>
        <li class="nav-item">
          <a routerLink="/wishlist" routerLinkActive="active">My Wishlist</a>
        </li>
        <li class="nav-item" *ngIf="!currentUser">
          <a routerLink="/login" routerLinkActive="active">Log In</a>
        </li>
        <li class="nav-item" *ngIf="currentUser">
          <a href="#" (click)="logout(); $event.preventDefault()">Logout</a>
        </li>
      </ul>
    </div>
  </nav>

  <!-- Main Header -->
  <div class="header-main">
    <div class="container">
      <div class="header-content">
        <!-- Logo -->
        <div class="logo">
          <a routerLink="/" class="logo-link">
            <span class="logo-text">MUSIC</span>
          </a>
        </div>

        <!-- Search Box -->
        <div class="search-wrapper">
          <app-search-box></app-search-box>
        </div>

        <!-- Cart Widget -->
        <div class="cart-wrapper">
          <div class="welcome-text">
            Welcome to our<br />online store!
          </div>
          <div class="cart-icon-wrapper">
            <button class="cart-button" routerLink="/checkout">
              <svg class="cart-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/>
              </svg>
              <span class="cart-count">{{ cartItemCount || 0 }}</span>
            </button>
          </div>
        </div>

        <!-- Mobile Menu Toggle -->
        <button class="menu-toggle" (click)="toggleMenu()">
          <span class="menu-icon"></span>
        </button>
      </div>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div class="mobile-menu" [class.open]="isMenuOpen">
    <div class="mobile-menu-content">
      <button class="close-menu" (click)="closeMenu()">Ã—</button>
      <ul class="mobile-nav-list">
        <li><a routerLink="/" (click)="closeMenu()">Home</a></li>
        <li *ngIf="currentUser">
          <a routerLink="/my-account" (click)="closeMenu()">My Account</a>
        </li>
        <li><a routerLink="/wishlist" (click)="closeMenu()">My Wishlist</a></li>
        <li *ngIf="!currentUser">
          <a routerLink="/login" (click)="closeMenu()">Log In</a>
        </li>
        <li *ngIf="currentUser">
          <a href="#" (click)="logout(); $event.preventDefault()">Logout</a>
        </li>
      </ul>
    </div>
  </div>
</header>